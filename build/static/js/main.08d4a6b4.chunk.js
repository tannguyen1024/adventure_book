(this["webpackJsonpprime-solo-project"]=this["webpackJsonpprime-solo-project"]||[]).push([[0],{125:function(e,t,a){},127:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),s=a(30),i=a(14),l=a(87),p=(a(106),Object(s.c)({loginMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_LOGIN_ERROR":return"";case"LOGIN_INPUT_ERROR":return"Enter your username and password!";case"LOGIN_FAILED":return"Oops! The username and password didn't match. Try again!";case"LOGIN_FAILED_NO_CODE":return"Oops! Something went wrong! Is the server running?";default:return e}},registrationMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_REGISTRATION_ERROR":return"";case"REGISTRATION_INPUT_ERROR":return"Choose a username and password!";case"REGISTRATION_FAILED":return"Oops! That didn't work. The username might already be taken. Try again!";default:return e}}})),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TO_LOGIN_MODE":return"login";case"SET_TO_REGISTER_MODE":return"register";default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;case"UNSET_USER":return{};default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_ALL":return t.payload;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STORY":return t.payload;default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FIRST_SNIPPET":return console.log("Payload is:",t.payload),t.payload;default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FIRST_SNIPPET_CHILD":return t.payload;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SNIPPET":return t.payload[0];default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EDIT_SNIPPET":return console.log("Snippet Edit has:",t.payload[0]),t.payload[0];case"FETCH_SNIPPET":return{};default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SNIPPET_CHILD":return t.payload;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ONE_COMMENT":return t.payload;default:return e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMMENT":return console.log("ALL COMMENTS PAYLOAD IS:",t.payload),t.payload;default:return e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EDIT_STORY":return t.payload;case"FETCH_STORY":return[];default:return e}},O=Object(s.c)({errors:p,loginMode:u,user:d,userAll:m,story:h,firstSnippet:E,firstSnippetChild:y,snippet:f,snippetEdit:g,snippetChild:v,oneComment:b,allComment:x,editStory:_}),T=a(4),S=a.n(T),w=a(7),C=a(10),k=a.n(C),N=S.a.mark(R),j=S.a.mark(P),I=S.a.mark(A);function R(e){var t;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(w.b)({type:"CLEAR_LOGIN_ERROR"});case 3:return t={headers:{"Content-Type":"application/json"},withCredentials:!0},a.next=6,k.a.post("/api/user/login",e.payload,t);case 6:return a.next=8,Object(w.b)({type:"FETCH_USER"});case 8:a.next=20;break;case 10:if(a.prev=10,a.t0=a.catch(0),console.log("Error with user login:",a.t0),401!==a.t0.response.status){a.next=18;break}return a.next=16,Object(w.b)({type:"LOGIN_FAILED"});case 16:a.next=20;break;case 18:return a.next=20,Object(w.b)({type:"LOGIN_FAILED_NO_CODE"});case 20:case"end":return a.stop()}}),N,null,[[0,10]])}function P(e){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{"Content-Type":"application/json"},withCredentials:!0},e.next=4,k.a.post("/api/user/logout",t);case 4:return e.next=6,Object(w.b)({type:"UNSET_USER"});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error with user logout:",e.t0);case 11:case"end":return e.stop()}}),j,null,[[0,8]])}function A(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("LOGIN",R);case 2:return e.next=4,Object(w.c)("LOGOUT",P);case 4:case"end":return e.stop()}}),I)}var F=A,M=S.a.mark(L),D=S.a.mark(U);function L(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(w.b)({type:"CLEAR_REGISTRATION_ERROR"});case 3:return t.next=5,k.a.post("/api/user/register",e.payload);case 5:return t.next=7,Object(w.b)({type:"LOGIN",payload:e.payload});case 7:return t.next=9,Object(w.b)({type:"SET_TO_LOGIN_MODE"});case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),console.log("Error with user registration:",t.t0),t.next=16,Object(w.b)({type:"REGISTRATION_FAILED"});case 16:case"end":return t.stop()}}),M,null,[[0,11]])}function U(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("REGISTER",L);case 2:case"end":return e.stop()}}),D)}var G=U,H=S.a.mark(B),Y=S.a.mark(W);function B(){var e,t;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e={headers:{"Content-Type":"application/json"},withCredentials:!0},a.next=4,k.a.get("/api/user",e);case 4:return t=a.sent,a.next=7,Object(w.b)({type:"SET_USER",payload:t.data});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("User get request failed",a.t0);case 12:case"end":return a.stop()}}),H,null,[[0,9]])}function W(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("FETCH_USER",B);case 2:case"end":return e.stop()}}),Y)}var q=W,z=S.a.mark(Q),J=S.a.mark(K);function Q(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("/api/user/all");case 3:return e=t.sent,t.next=6,Object(w.b)({type:"SET_USER_ALL",payload:e.data});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("User get request failed",t.t0);case 11:case"end":return t.stop()}}),z,null,[[0,8]])}function K(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("FETCH_USER_ALL",Q);case 2:case"end":return e.stop()}}),J)}var V=K,X=S.a.mark($),Z=S.a.mark(ee);function $(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("/api/story");case 3:return e=t.sent,t.next=6,Object(w.b)({type:"SET_STORY",payload:e.data});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("User get request failed",t.t0);case 11:case"end":return t.stop()}}),X,null,[[0,8]])}function ee(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("FETCH_STORY",$);case 2:case"end":return e.stop()}}),Z)}var te=ee,ae=S.a.mark(re),ne=S.a.mark(oe);function re(e){var t,a,n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,k.a.get("/api/snippet/start/".concat(t));case 4:return a=r.sent,r.next=7,Object(w.b)({type:"SET_FIRST_SNIPPET",payload:a.data});case 7:return r.next=9,k.a.get("/api/snippet/start/child/".concat(a.data[0].snippet_id));case 9:return n=r.sent,r.next=12,Object(w.b)({type:"SET_FIRST_SNIPPET_CHILD",payload:n.data});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),console.log("User get request failed",r.t0);case 17:case"end":return r.stop()}}),ae,null,[[1,14]])}function oe(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("FETCH_FIRST_SNIPPET",re);case 2:case"end":return e.stop()}}),ne)}var ce=oe,se=S.a.mark(le),ie=S.a.mark(pe);function le(e){var t,a,n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("In snippetSaga with:",e.payload),t=e.payload,r.prev=2,r.next=5,k.a.get("/api/snippet/".concat(t));case 5:return a=r.sent,console.log("snippet saga:",a.data),r.next=9,Object(w.b)({type:"SET_SNIPPET",payload:a.data});case 9:return r.next=11,Object(w.b)({type:"SET_EDIT_SNIPPET",payload:a.data});case 11:return r.next=13,k.a.get("/api/snippet/child/".concat(a.data[0].id));case 13:return n=r.sent,r.next=16,Object(w.b)({type:"SET_SNIPPET_CHILD",payload:n.data});case 16:r.next=21;break;case 18:r.prev=18,r.t0=r.catch(2),console.log("User get request failed",r.t0);case 21:case"end":return r.stop()}}),se,null,[[2,18]])}function pe(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("FETCH_SNIPPET",le);case 2:case"end":return e.stop()}}),ie)}var ue=pe,de=S.a.mark(he),me=S.a.mark(Ee);function he(e){var t,a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("In snippetSaga with:",e.payload),t=e.payload,n.prev=2,n.next=5,k.a.get("/api/comment/".concat(t));case 5:return a=n.sent,n.next=8,Object(w.b)({type:"SET_ONE_COMMENT",payload:a.data});case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.log("User get request failed",n.t0);case 13:case"end":return n.stop()}}),de,null,[[2,10]])}function Ee(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("FETCH_ONE_COMMENT",he);case 2:case"end":return e.stop()}}),me)}var ye=Ee,fe=S.a.mark(ve),ge=S.a.mark(be);function ve(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("In commentPostSaga with:",e.payload),t.prev=1,t.next=4,k.a.post("/api/comment/",e.payload);case 4:return t.next=6,Object(w.b)({type:"FETCH_ONE_COMMENT",payload:e.payload.snippet});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("User get request failed",t.t0);case 11:case"end":return t.stop()}}),fe,null,[[1,8]])}function be(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("POST_COMMENT",ve);case 2:case"end":return e.stop()}}),ge)}var xe=be,_e=S.a.mark(Te),Oe=S.a.mark(Se);function Te(e){var t,a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("In storyPostSaga with:",e.payload),n.prev=1,n.next=4,k.a.post("/api/story/",e.payload);case 4:return t=n.sent,a=t.data[0].id,n.next=8,k.a.post("/api/snippet/start/".concat(a),e.payload);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("User get request failed",n.t0);case 13:case"end":return n.stop()}}),_e,null,[[1,10]])}function Se(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("POST_STORY",Te);case 2:case"end":return e.stop()}}),Oe)}var we=Se,Ce=S.a.mark(Ne),ke=S.a.mark(je);function Ne(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("/api/comment/");case 3:return e=t.sent,console.log("RESPONSE IS",e.data),t.next=7,Object(w.b)({type:"SET_COMMENT",payload:e.data});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("User get request failed",t.t0);case 12:case"end":return t.stop()}}),Ce,null,[[0,9]])}function je(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("FETCH_COMMENT",Ne);case 2:case"end":return e.stop()}}),ke)}var Ie=je,Re=S.a.mark(Ae),Pe=S.a.mark(Fe);function Ae(e){var t;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("In snippetSaga with:",e.payload),t=e.payload,a.prev=2,a.next=5,k.a.delete("/api/comment/".concat(t));case 5:return a.next=7,Object(w.b)({type:"FETCH_COMMENT"});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log("User get request failed",a.t0);case 12:case"end":return a.stop()}}),Re,null,[[2,9]])}function Fe(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("DELETE_COMMENT",Ae);case 2:case"end":return e.stop()}}),Pe)}var Me=Fe,De=S.a.mark(Ue),Le=S.a.mark(Ge);function Ue(e){var t;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("In userUpdateSaga with:",e.payload),t=e.payload,a.prev=2,a.next=5,k.a.put("/api/user/update/".concat(t));case 5:return a.next=7,Object(w.b)({type:"FETCH_USER_ALL"});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log("User get request failed",a.t0);case 12:case"end":return a.stop()}}),De,null,[[2,9]])}function Ge(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("UPDATE_USER",Ue);case 2:case"end":return e.stop()}}),Le)}var He=Ge,Ye=S.a.mark(We),Be=S.a.mark(qe);function We(e){var t;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.a.get("/api/story/edit/".concat(e.payload));case 3:return t=a.sent,a.next=6,Object(w.b)({type:"SET_EDIT_STORY",payload:t.data});case 6:a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),Ye,null,[[0,8]])}function qe(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("GET_EDIT_STORY",We);case 2:case"end":return e.stop()}}),Be)}var ze=qe,Je=S.a.mark(Ke),Qe=S.a.mark(Ve);function Ke(e){var t;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.story_id,a.next=4,k.a.put("/api/story/".concat(t),e.payload);case 4:return a.sent,a.next=7,Object(w.b)({type:"FETCH_STORY"});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("User get request failed",a.t0);case 12:case"end":return a.stop()}}),Je,null,[[0,9]])}function Ve(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("UPDATE_STORY",Ke);case 2:case"end":return e.stop()}}),Qe)}var Xe=Ve,Ze=S.a.mark(et),$e=S.a.mark(tt);function et(e){var t;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.id,a.next=4,k.a.put("/api/snippet/".concat(t),e.payload);case 4:return a.next=6,Object(w.b)({type:"FETCH_SNIPPET",payload:t});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("User get request failed",a.t0);case 11:case"end":return a.stop()}}),Ze,null,[[0,8]])}function tt(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("UPDATE_SNIPPET",et);case 2:case"end":return e.stop()}}),$e)}var at=tt,nt=S.a.mark(ot),rt=S.a.mark(ct);function ot(e){var t,a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("In actionCreate SAGA with:",e.payload),n.prev=1,n.next=4,k.a.post("/api/snippet/start/".concat(e.payload.story_id),e.payload);case 4:return t=n.sent,a=t.data[0].id,console.log("The child is:",a),n.next=9,k.a.post("/api/snippet/action/".concat(a),e.payload);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("User get request failed",n.t0);case 14:case"end":return n.stop()}}),nt,null,[[1,11]])}function ct(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("NEW_ACTION",ot);case 2:case"end":return e.stop()}}),rt)}var st=ct,it=S.a.mark(pt),lt=S.a.mark(ut);function pt(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("In actionDelete SAGA with:",e.payload),t.prev=1,t.next=4,k.a.delete("/api/snippet/action/".concat(e.payload.id));case 4:return t.next=6,k.a.delete("/api/snippet/delete/".concat(e.payload.child));case 6:console.log("Deleted junction:",e.payload.id,"and child:",e.payload.child),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("User get request failed",t.t0);case 12:case"end":return t.stop()}}),it,null,[[1,9]])}function ut(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)("DELETE_ACTION",pt);case 2:case"end":return e.stop()}}),lt)}var dt=ut,mt=S.a.mark(ht);function ht(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)([ze(),F(),G(),q(),V(),te(),ce(),ue(),ye(),xe(),we(),Ie(),Me(),He(),ze(),Xe(),at(),st(),dt()]);case 2:case"end":return e.stop()}}),mt)}var Et=a(15),yt=a(16),ft=a(18),gt=a(17),vt=a(37),bt=a(23),xt=(a(125),Object(i.b)((function(e){return{user:e.user}}))((function(e){return r.a.createElement("div",{className:"nav"},r.a.createElement(vt.b,{to:"/home"},r.a.createElement("h2",{className:"nav-title"},r.a.createElement("img",{src:"../../logo_white.png",width:"250",alt:"Adventure Book"}))),r.a.createElement("div",{className:"nav-right"},r.a.createElement(vt.b,{className:"nav-link",to:"/home"},e.user.id?"Home":"Login / Register"),e.user.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(vt.b,{className:"nav-link",to:"/info"},"Info Page"),r.a.createElement(vt.b,{onClick:function(){return e.dispatch({type:"LOGOUT"})},className:"nav-link",to:"/home"},"Log Out")),r.a.createElement(vt.b,{className:"nav-link",to:"/about"},"About")))}))),_t=(a(127),function(){return r.a.createElement("footer",null,"\xa9 Prime Digital Academy")}),Ot=a(88),Tt=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.login=function(t){t.preventDefault(),e.state.username&&e.state.password?e.props.dispatch({type:"LOGIN",payload:{username:e.state.username,password:e.state.password}}):e.props.dispatch({type:"LOGIN_INPUT_ERROR"})},e.handleInputChangeFor=function(t){return function(a){e.setState({[t]:a.target.value})}},e}return Object(yt.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.errors.loginMessage&&r.a.createElement("h2",{className:"alert",role:"alert"},this.props.errors.loginMessage),r.a.createElement("form",{onSubmit:this.login},r.a.createElement("h1",null,"Login"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement("input",{className:"log-in",type:"submit",name:"submit",value:"Log In"}))),r.a.createElement("center",null,r.a.createElement("button",{type:"button",className:"link-button",onClick:function(){e.props.dispatch({type:"SET_TO_REGISTER_MODE"})}},"Register")))}}]),a}(n.Component),St=Object(i.b)((function(e){return{errors:e.errors}}))(Tt),wt=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.registerUser=function(t){t.preventDefault(),e.state.username&&e.state.password?e.props.dispatch({type:"REGISTER",payload:{username:e.state.username,password:e.state.password}}):e.props.dispatch({type:"REGISTRATION_INPUT_ERROR"})},e.handleInputChangeFor=function(t){return function(a){e.setState({[t]:a.target.value})}},e}return Object(yt.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.errors.registrationMessage&&r.a.createElement("h2",{className:"alert",role:"alert"},this.props.errors.registrationMessage),r.a.createElement("form",{onSubmit:this.registerUser},r.a.createElement("h1",null,"New Adventurer"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement("input",{className:"register",type:"submit",name:"submit",value:"Register"}))),r.a.createElement("center",null,r.a.createElement("button",{type:"button",className:"link-button",onClick:function(){e.props.dispatch({type:"SET_TO_LOGIN_MODE"})}},"Login")))}}]),a}(n.Component),Ct=Object(i.b)((function(e){return{errors:e.errors}}))(wt),kt=Object(i.b)((function(e){return{user:e.user,loginMode:e.loginMode}}))((function(e){var t,a=e.component,n=e.user,o=e.loginMode,c=Object(Ot.a)(e,["component","user","loginMode"]);return t=n.id?a:"login"===o?St:Ct,r.a.createElement(bt.b,Object.assign({},c,{component:t}))})),Nt=a(158),jt=a(161),It=a(162),Rt=a(163),Pt=a(164),At=a(6),Ft={card:{maxWidth:200,backgroundColor:"rgba(222, 222, 222, 0.1)",marginLeft:"25px",marginTop:"25px"},snippet:{maxWidth:600,backgroundColor:"rgba(222, 222, 222, 0.1)",marginLeft:"25px",marginTop:"25px",position:"relative"},media:{width:600,paddingTop:"56.25%",boxShadow:"3px 3px 15px black",transition:"all 1s","&:hover":{paddingTop:"65%",boxShadow:"3px 3px 50px black"}},media_comment:{width:600,paddingTop:"20%",boxShadow:"3px 3px 15px black",transition:"all 1s","&:hover":{paddingTop:"25%",boxShadow:"3px 3px 50px black"}},media_create:{width:600,paddingTop:"30%",boxShadow:"3px 3px 15px black",transition:"all 0.5s","&:hover":{paddingTop:"35%",boxShadow:"3px 3px 50px black"}},title:{fontSize:14},pos:{fontSize:14,fontFamily:"Courgette",textAlign:"right"},pos2:{fontSize:20,fontFamily:"Courgette",position:"absolute",textAlign:"text-top"},root:{maxWidth:345},spicy:{fontFamily:"Permanent Marker",background:"#076585",background:"linear-gradient(200deg, #657394, #3f4c6b)",border:0,color:"white",boxShadow:"2px 2px 8px black",type:"dark",primary:{main:"#e91e63",contrastText:"#fff"},secondary:{main:"#03a9f4",contrastText:"#fff"},transition:"all 0.5s","&:hover":{backgroundColor:"linear-gradient(200deg, #6b7896, #4c5b7d)",boxShadow:"2px 2px 18px black"}},spicy_middle:{fontFamily:"Permanent Marker",background:"#8a2b2b",background:"linear-gradient(200deg, #8a2b2b, #3a1212)",border:0,color:"white",boxShadow:"2px 2px 8px black",type:"dark",primary:{main:"#e91e63",contrastText:"#fff"},secondary:{main:"#03a9f4",contrastText:"#fff"},transition:"all 0.5s",display:"inline-block",margin:"0 auto",width:"200px","&:hover":{backgroundColor:"linear-gradient(200deg, #6b7896, #4c5b7d)",boxShadow:"2px 2px 18px black"}},spicy_edit:{fontFamily:"Permanent Marker",border:0,color:"#8a2b2b",type:"light",margin:"0 auto",transition:"all 0.5s","&:hover":{backgroundColor:"linear-gradient(200deg, #6b7896, #4c5b7d)",boxShadow:"2px 2px 18px black"}},spicy_connection:{fontFamily:"Permanent Marker",background:"#076585",background:"linear-gradient(200deg, #8a2b2b, #3a1212)",border:0,color:"white",boxShadow:"2px 2px 8px black",type:"light",marginTop:"15px",primary:{main:"#e91e63",contrastText:"#fff"},secondary:{main:"#03a9f4",contrastText:"#fff"},transition:"all 0.5s","&:hover":{backgroundColor:"linear-gradient(200deg, #6b7896, #4c5b7d)",boxShadow:"2px 2px 18px black"}},spicy_submit:{fontFamily:"Permanent Marker",background:"#076585",background:"linear-gradient(200deg, #8a2b2b, #3a1212)",border:0,color:"white",boxShadow:"2px 2px 8px black",type:"light",primary:{main:"#e91e63",contrastText:"#fff"},secondary:{main:"#03a9f4",contrastText:"#fff"},transition:"all 0.5s","&:hover":{backgroundColor:"linear-gradient(200deg, #6b7896, #4c5b7d)",boxShadow:"2px 2px 18px black"}},cursive:{fontFamily:"Courgette"},cursive_middle:{textAlign:"center",margin:"0 auto",width:"200px",fontFamily:"Courgette"},ending:{fontFamily:"Courgette",fontSize:14,marginTop:15,marginRight:15,float:"right"},paper:{maxWidth:600,backgroundColor:"rgba(222, 222, 222, 0.1)",margin:25,padding:10},shadow:{boxShadow:"2px 2px 7px black"},chip:{boxShadow:"2px 2px 7px black"},root2:{flexGrow:1}},Mt=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){return Object(Et.a)(this,a),t.apply(this,arguments)}return Object(yt.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Nt.a,{className:e.snippet},r.a.createElement(jt.a,null,r.a.createElement(It.a,{className:e.media,image:"https://images.unsplash.com/photo-1452421822248-d4c2b47f0c81?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1334&q=80",title:"Picture of Adventure"}),r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:e.cursive,gutterBottom:!0,variant:"h5",component:"h2"},r.a.createElement("label",null,"What is Adventure Book?")),r.a.createElement(Pt.a,{className:e.cursive,variant:"body2",color:"textSecondary",component:"div"},"Adventure Book is aimed to fully realize the joys of the Choose Your Own Adventure novels that were popular in the 90\u2019s.  These novels often started on one page and the reader would make decisions that would take them to a different page of the book.  This branching decision making made every reader\u2019s experience different.  The Adventure Book doesn\u2019t stop there however!  As an administrator, you can also create your own adventure from scratch with multiple branching paths and endings."))))))}}]),a}(n.Component),Dt=Object(At.a)(Ft)(Mt),Lt=a(165),Ut=a(173),Gt=a(166),Ht=a(167),Yt=a(47),Bt=a.n(Yt),Wt=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.dispatch({type:"FETCH_STORY"})},e.startClick=function(t,a){e.props.dispatch({type:"FETCH_FIRST_SNIPPET",payload:a.id}),e.props.history.push("/story/".concat(a.id))},e.editClick=function(t,a){e.props.dispatch({type:"GET_EDIT_STORY",payload:a.id}),console.log("You've clicked things!",a),e.props.history.push("/story/edit/".concat(a.id))},e}return Object(yt.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.user.admin;return r.a.createElement("div",null,r.a.createElement("h1",{id:"welcome"},"Greetings Adventurer ",this.props.user.username,"!"),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Lt.a,{className:t.spicy_submit,variant:"contained",color:"primary",onClick:function(){e.props.history.push("/admin/user")}},"Manage Adventurers"),r.a.createElement(Lt.a,{style:{marginLeft:25},className:t.spicy_submit,variant:"contained",color:"primary",onClick:function(){e.props.history.push("/admin/comments")}},"Manage Comments"),r.a.createElement(Lt.a,{style:{marginLeft:25},className:t.spicy_submit,variant:"contained",color:"primary",onClick:function(){e.props.history.push("/admin/create_story")}},"Create Story")),r.a.createElement("h2",null,"Choose Your Story"),this.props.story.map((function(n){return r.a.createElement("div",{key:n.id},r.a.createElement(Nt.a,{className:t.snippet},r.a.createElement(jt.a,null,r.a.createElement(Ut.a,{boxShadow:3},r.a.createElement(It.a,{className:t.media,image:n.story_path,title:n.story_description})),r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:t.cursive,gutterBottom:!0,variant:"h5",component:"h2"},n.story_title,a&&r.a.createElement(Gt.a,{className:t.spicy_edit,onClick:function(t){return e.editClick(t,n)}},r.a.createElement(Bt.a,null))),r.a.createElement(Pt.a,{className:t.cursive,variant:"body2",color:"textSecondary",component:"p"},n.story_description),r.a.createElement(Pt.a,{className:t.cursive,color:"textSecondary",component:"h6"},"Crafted by ",n.author))),r.a.createElement(Ht.a,null,r.a.createElement(Lt.a,{className:t.spicy,variant:"contained",color:"secondary",onClick:function(t){return e.startClick(t,n)}},"Start "))))})))}}]),a}(n.Component),qt=Object(i.b)((function(e){return{user:e.user,story:e.story,firstSnippet:e.firstSnippet}}))(Object(At.a)(Ft)(Wt)),zt=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Info Page"))},Jt=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.dispatch({type:"FETCH_USER_ALL"})},e.handleClick=function(t,a){console.log("You are promoting:",a),e.props.dispatch({type:"UPDATE_USER",payload:a})},e}return Object(yt.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,this.props.users.map((function(a){return r.a.createElement("div",{key:a.id},r.a.createElement(Nt.a,{className:t.card},r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:t.title&&t.cursive,color:"textSecondary",gutterBottom:!0},"Name"),r.a.createElement(Pt.a,{className:t.cursive,variant:"h5",component:"h2"},a.username),r.a.createElement("br",null),r.a.createElement(Pt.a,{className:t.title&&t.cursive,color:"textSecondary"},"Admin Status:"),r.a.createElement(Pt.a,{className:t.cursive,component:"p"},a.admin?"Yes":"No")),r.a.createElement(Ht.a,null,a.admin?"":r.a.createElement(Lt.a,{onClick:function(t){return e.handleClick(t,a.id)},className:t.spicy_submit,variant:"contained",color:"primary",size:"small"},"Promote to Admin"))))})))}}]),a}(n.Component),Qt=Object(i.b)((function(e){return{users:e.userAll,user:e.user}}))(Object(At.a)(Ft)(Jt)),Kt=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t,a){e.props.history.push("/snippet/".concat(t.child)),window.location.reload(),e.setState({page:e.props.match.params.id})},e}return Object(yt.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_FIRST_SNIPPET",payload:this.props.match.params.id})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,this.props.snippet.map((function(a){return r.a.createElement("div",{key:a.snippet_id},r.a.createElement(Nt.a,{className:t.snippet},r.a.createElement(jt.a,null,r.a.createElement(Ut.a,{boxShadow:3},r.a.createElement(It.a,{className:t.media,image:a.snip_path,title:a.snip_description})),r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:t.cursive,gutterBottom:!0,variant:"h5",component:"h2"},a.snip_title," ",e.props.user.admin&&r.a.createElement(Gt.a,{onClick:function(){return e.props.history.push("/snippet_edit/".concat(a.snippet_id))},className:t.spicy_edit},r.a.createElement(Bt.a,null))),r.a.createElement(Pt.a,{className:t.cursive,variant:"body2",color:"textSecondary",component:"p"},a.snip_description))),r.a.createElement(Ht.a,null,e.props.child.map((function(a){return r.a.createElement("div",{key:a.id},r.a.createElement(Lt.a,{className:t.spicy,variant:"outlined",size:"small",onClick:function(){e.props.history.push("/snippet/".concat(a.child))}},a.action),r.a.createElement("p",null))})))))})))}}]),a}(n.Component),Vt=Object(i.b)((function(e){return{story:e.story,user:e.user,snippet:e.firstSnippet,child:e.firstSnippetChild}}))(Object(At.a)(Ft)(Kt)),Xt=a(132),Zt=a(168),$t=a(175),ea=a(171),ta=a(81),aa=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.user.id,comment:"",snippet:e.props.id},e.componentDidMount=function(){console.log("id is currently:",e.props.id),e.props.dispatch({type:"FETCH_ONE_COMMENT",payload:e.props.id})},e.handleChange=function(t){console.log(t.target.value),e.setState({comment:t.target.value})},e.handleClick=function(){console.log(e.state),e.props.dispatch({type:"POST_COMMENT",payload:e.state})},e}return Object(yt.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt.a,{className:e.paper},r.a.createElement(Zt.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(Zt.a,{item:!0},r.a.createElement($t.a,{variant:"outlined",label:this.props.user.username,className:e.chip})),r.a.createElement(Zt.a,{item:!0,xs:!0},r.a.createElement(ea.a,{onChange:this.handleChange,multiline:!0,fullWidth:!0,placeholder:"How was it?"})),r.a.createElement(Zt.a,{item:!0,xs:!0},r.a.createElement(Lt.a,{onClick:this.handleClick,className:e.spicy},"Leave Feedback")))),this.props.comment.map((function(t){var a=ta(t.comment_date).format("MMM Do YYYY hh:mm A");return r.a.createElement("div",{key:t.comment},r.a.createElement(Xt.a,{className:e.paper},r.a.createElement(Zt.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(Zt.a,{item:!0},r.a.createElement($t.a,{variant:"outlined",label:t.username,className:e.chip})),r.a.createElement(Zt.a,{item:!0,xs:!0},r.a.createElement(Pt.a,{className:e.cursive},t.comment)),r.a.createElement(Zt.a,{item:!0,xs:!0},r.a.createElement(Pt.a,{className:e.cursive},a)))))})))}}]),a}(n.Component),na=Object(i.b)((function(e){return{story:e.story,user:e.user,snippet:e.snippet,child:e.snippetChild,comment:e.oneComment}}))(Object(At.a)(Ft)(aa)),ra=a(170),oa=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state="",e.handleClick=function(t,a){e.props.history.push("/snippet/".concat(t.child)),window.location.reload(),e.setState({page:e.props.match.params.id})},e.componentDidMount=function(){console.log("YOU ARE ON SNIPPET:",e.props.match.params),e.props.dispatch({type:"FETCH_SNIPPET",payload:e.props.match.params.id})},e}return Object(yt.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.match.params.id!==e.match.params.id&&(this.setState({id:this.props.match.params.id}),window.location.reload())}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt.a,{className:t.snippet},r.a.createElement(jt.a,null,r.a.createElement(Ut.a,{boxShadow:3},r.a.createElement(It.a,{className:t.media,image:this.props.snippet.snip_path,title:this.props.snippet.snip_description})),r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:t.cursive,gutterBottom:!0,variant:"h5",component:"h2"},this.props.snippet.snip_title," ",this.props.user.admin&&r.a.createElement(Gt.a,{onClick:function(){return e.props.history.push("/snippet_edit/".concat(e.props.match.params.id))},className:t.spicy_edit},r.a.createElement(Bt.a,null))),r.a.createElement(Pt.a,{className:t.cursive,variant:"body2",color:"textSecondary",component:"p"},this.props.snippet.snip_description),r.a.createElement(Pt.a,{className:t.ending},this.props.snippet.snip_ending&&r.a.createElement(r.a.Fragment,null,"The End.")))),r.a.createElement(Ht.a,null,!1===this.props.snippet.snip_ending&&r.a.createElement(r.a.Fragment,null,this.props.child.map((function(a){return r.a.createElement("div",{key:a.id},r.a.createElement(Lt.a,{className:t.spicy,size:"small",variant:"contained",color:"secondary",onClick:function(t){return e.handleClick(a,t)}},a.action),r.a.createElement("p",null))})))),r.a.createElement(Ht.a,null)),this.props.snippet.snip_ending&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("br",null),r.a.createElement(ra.a,null),r.a.createElement("br",null),r.a.createElement(na,{id:this.props.match.params.id})," "))}}]),a}(n.Component),ca=Object(i.b)((function(e){return{story:e.story,user:e.user,snippet:e.snippet,child:e.snippetChild}}))(Object(At.a)(Ft)(oa)),sa=a(169),ia=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user_id:e.props.user.id,story_title:"",story_description:"",story_path:"https://cdn.pixabay.com/photo/2017/07/22/11/46/adventure-2528477_1280.jpg"},e.handleTitle=function(t){e.setState({story_title:t.target.value})},e.handleDescription=function(t){e.setState({story_description:t.target.value})},e.handlePath=function(t){e.setState({story_path:t.target.value})},e.handleSubmit=function(){e.props.dispatch({type:"POST_STORY",payload:e.state}),e.props.dispatch({type:"FETCH_STORY"}),e.props.history.push("/home")},e}return Object(yt.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Nt.a,{className:e.snippet},r.a.createElement(jt.a,null,r.a.createElement(Ut.a,{boxShadow:3},r.a.createElement(It.a,{className:e.media_create,image:"../create.jpeg",title:"Crafting an adventure!"})),r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:e.cursive,gutterBottom:!0,variant:"h5",component:"h2"},r.a.createElement("label",null,"Title: "),r.a.createElement(sa.a,{onChange:this.handleTitle,multiline:!0,placeholder:"Insert story title here."})),r.a.createElement(Pt.a,{className:e.cursive,variant:"body2",color:"textSecondary",component:"h1"},r.a.createElement("label",null,"Description: "),r.a.createElement(ea.a,{onChange:this.handleDescription,color:"secondary",multiline:!0,fullWidth:!0,placeholder:"Insert a description of your story here."})),r.a.createElement(Pt.a,{className:e.cursive,variant:"body2",color:"textSecondary",component:"h1"},r.a.createElement("label",null,"Image URL: "),r.a.createElement(ea.a,{onChange:this.handlePath,color:"secondary",multiline:!0,fullWidth:!0,placeholder:"Insert path to image here.  Example: http://address.com/picture.png"})))),r.a.createElement(Ht.a,null,r.a.createElement(Lt.a,{onClick:this.handleSubmit,className:e.spicy_submit,variant:"contained",color:"secondary"},"Submit your Story ")))))}}]),a}(n.Component),la=Object(i.b)((function(e){return{user:e.user,story:e.story}}))(Object(At.a)(Ft)(ia)),pa=a(81),ua=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.dispatch({type:"FETCH_COMMENT"})},e.handleDelete=function(t,a){console.log("Your Comment is:",a),e.props.dispatch({type:"DELETE_COMMENT",payload:a.comment_id})},e}return Object(yt.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,this.props.comment.map((function(a){var n=pa(a.comment_date).format("MMM Do YYYY hh:mm A");return r.a.createElement("div",{key:a.comment},r.a.createElement(Nt.a,{className:t.snippet,variant:"outlined"},r.a.createElement(Ut.a,{boxShadow:3},r.a.createElement(It.a,{className:t.media_comment,image:a.snip_path,title:a.snip_title})),r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:t.pos,color:"textSecondary",gutterBottom:!0},a.story_title," | ",a.snip_title,r.a.createElement("br",null),n),r.a.createElement(Pt.a,{className:t.pos2,color:"textPrimary"},a.username),r.a.createElement(Pt.a,{className:t.cursive_middle,variant:"body2",component:"p"},'"',a.comment,'"',r.a.createElement("br",null))),r.a.createElement(Ht.a,null,r.a.createElement(Lt.a,{onClick:function(t){return e.handleDelete(t,a)},className:t.spicy_middle,size:"small"},"Delete Post"))))})))}}]),a}(n.Component),da=Object(i.b)((function(e){return{user:e.user,comment:e.allComment}}))(Object(At.a)(Ft)(ua)),ma=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={story_id:"",story_title:"",story_description:"",story_path:"",user_id:e.props.user.id},e.componentDidMount=function(){e.props.dispatch({type:"GET_EDIT_STORY",payload:e.props.match.params.id}),console.log("componentDidMount - MOUNTED")},e.handleChangeTitle=function(t){e.setState({story_title:t.target.value})},e.handleChangeDescription=function(t){e.setState({story_description:t.target.value})},e.handleChangePath=function(t){e.setState({story_path:t.target.value})},e.handleClick=function(){e.props.dispatch({type:"UPDATE_STORY",payload:e.state}),e.props.history.push("/home")},e}return Object(yt.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.editStory.id!==e.editStory.id&&(console.log("This is a NEW STORY"),this.setState({story_id:this.props.editStory.id,story_title:this.props.editStory.story_title,story_description:this.props.editStory.story_description,story_path:this.props.editStory.story_path}))}},{key:"render",value:function(){var e=this.state,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt.a,{className:t.snippet},r.a.createElement(jt.a,null,""===this.state.story_path?r.a.createElement(It.a,{className:t.media,image:e.story_path,title:"Crafting an adventure!"}):r.a.createElement(It.a,{className:t.media,image:this.state.story_path,title:"Crafting an adventure!"}),r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:t.cursive,gutterBottom:!0,variant:"h5",component:"h2"},r.a.createElement("label",null,"Title: "),r.a.createElement(sa.a,{onChange:this.handleChangeTitle,multiline:!0,value:e.story_title,placeholder:"Insert story title here."})),r.a.createElement(Pt.a,{className:t.cursive,variant:"body2",color:"textSecondary",component:"div"},r.a.createElement("label",null,"Description: "),r.a.createElement(ea.a,{onChange:this.handleChangeDescription,color:"secondary",value:e.story_description,multiline:!0,fullWidth:!0,placeholder:"Insert description here."})),r.a.createElement(Pt.a,{className:t.cursive,variant:"body2",color:"textSecondary",component:"div"},r.a.createElement("label",null,"Image URL: "),r.a.createElement(ea.a,{onChange:this.handleChangePath,color:"secondary",value:e.story_path,multiline:!0,fullWidth:!0,placeholder:"Insert path to image here.  Example: http://address.com/picture.png"})))),r.a.createElement(Ht.a,null,r.a.createElement(Lt.a,{onClick:this.handleClick,className:t.spicy_submit,variant:"contained",color:"secondary"},"Submit your Changes "))))}}]),a}(n.Component),ha=Object(i.b)((function(e){return{user:e.user,story:e.story,editStory:e.editStory}}))(Object(At.a)(Ft)(ma)),Ea=a(86),ya=a.n(Ea),fa=a(174),ga=function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){var e;Object(Et.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={id:e.props.match.params.id,snip_title:"",snip_description:"",snip_ending:"",snip_path:"",story_id:"",action:""},e.handleClick=function(t,a){e.props.history.push("/snippet/".concat(t.child)),window.location.reload(),e.setState({page:e.props.match.params.id})},e.componentDidMount=function(){e.props.dispatch({type:"FETCH_SNIPPET",payload:e.props.match.params.id})},e.changeTitle=function(t){e.setState({snip_title:t.target.value})},e.changeDescription=function(t){e.setState({snip_description:t.target.value})},e.changePath=function(t){e.setState({snip_path:t.target.value})},e.handleSubmit=function(){e.props.dispatch({type:"UPDATE_SNIPPET",payload:e.state}),console.log("SUBMIT:",e.state),e.props.history.push("/snippet/".concat(e.props.match.params.id))},e.deleteAction=function(t,a){console.log("SUBMITTING FOR DELETION:",a),e.props.dispatch({type:"DELETE_ACTION",payload:a}),e.setState({state:e.state}),e.props.dispatch({type:"FETCH_SNIPPET",payload:e.props.match.params.id})},e.endingChange=function(t){e.setState({snip_ending:t.target.value})},e.handleChangeAction=function(t){e.setState({action:t.target.value})},e.handleClickAction=function(){""!==e.state.action?(console.log("Submitting:",e.state.action),e.props.dispatch({type:"NEW_ACTION",payload:e.state}),e.setState({state:e.state}),e.props.dispatch({type:"FETCH_SNIPPET",payload:e.props.match.params.id})):alert("Please enter an action before submitting.")},e}return Object(yt.a)(a,[{key:"componentDidUpdate",value:function(e,t){console.log("-----------------CURRENT PROP IS:",this.props.snippetEdit.id,"prevPROP IS",e.snippetEdit.id),this.props.snippetEdit.id!==e.snippetEdit.id&&(console.log("This is a NEW STORY"),this.setState({id:this.props.snippetEdit.id,snip_title:this.props.snippetEdit.snip_title,snip_description:this.props.snippetEdit.snip_description,snip_path:this.props.snippetEdit.snip_path,snip_ending:String(this.props.snippetEdit.snip_ending),story_id:this.props.snippetEdit.story_id}))}},{key:"render",value:function(){var e=this,t=String(this.state.snip_ending),a=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt.a,{className:a.snippet},r.a.createElement(jt.a,null,r.a.createElement(Ut.a,{boxShadow:3},r.a.createElement(It.a,{className:a.media,image:this.state.snip_path,title:this.props.snippetEdit.snip_description})),r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:a.cursive,gutterBottom:!0,variant:"h5",component:"h2"},r.a.createElement("label",null,"Title: "),r.a.createElement(sa.a,{onChange:this.changeTitle,value:this.state.snip_title,multiline:!0,placeholder:"Title goes here."})),r.a.createElement(Pt.a,{className:a.cursive,variant:"body2",color:"textSecondary",component:"div"},r.a.createElement("label",null,"Description: "),r.a.createElement(ea.a,{onChange:this.changeDescription,value:this.state.snip_description,color:"secondary",multiline:!0,fullWidth:!0,placeholder:"Insert description here."})),r.a.createElement(Pt.a,{className:a.cursive,variant:"body2",color:"textSecondary",component:"div"},r.a.createElement("label",null,"Image URL: "),r.a.createElement(ea.a,{onChange:this.changePath,color:"secondary",value:this.state.snip_path,multiline:!0,fullWidth:!0,placeholder:"Insert path to image here.  Example: http://address.com/picture.png"})),r.a.createElement(Pt.a,{className:a.ending},"ENDING: True",r.a.createElement(fa.a,{checked:"true"===t,onChange:this.endingChange,value:"true",name:"radio-button-demo",inputProps:{"aria-label":"TRUE"}}),"False",r.a.createElement(fa.a,{checked:"false"===t,onChange:this.endingChange,value:"false",name:"radio-button-demo",inputProps:{"aria-label":"FALSE"}}))),r.a.createElement(Rt.a,null,r.a.createElement(Lt.a,{onClick:this.handleSubmit,className:a.spicy_submit,variant:"contained",color:"secondary"},"Submit Changes")))),"false"===this.state.snip_ending&&r.a.createElement(Nt.a,{className:a.snippet},r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:a.cursive,gutterBottom:!0,variant:"h5",component:"h2"},"Action Manager"),r.a.createElement(Pt.a,{className:a.cursive,variant:"body2",color:"textSecondary",component:"div"},r.a.createElement("label",null,"Action Name: "),r.a.createElement(ea.a,{inputProps:{maxLength:50},onChange:this.handleChangeAction,multiline:!0,placeholder:"Insert a new action"}),r.a.createElement("br",null),r.a.createElement(Lt.a,{onClick:this.handleClickAction,className:a.spicy_connection,variant:"contained",color:"secondary"},"Add Action"))),r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:a.cursive,variant:"body2",color:"textSecondary",component:"div"},"Current Actions:"),r.a.createElement(ra.a,null)),r.a.createElement(Rt.a,null," ",!1===this.props.snippetEdit.snip_ending&&r.a.createElement(r.a.Fragment,null,this.props.child.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement(Lt.a,{className:a.spicy,size:"small",variant:"contained",color:"secondary",onClick:function(a){return e.handleClick(t,a)}},t.action)," ",r.a.createElement(Gt.a,{className:a.spicy_edit,onClick:function(a){return e.deleteAction(a,t)}},r.a.createElement(ya.a,null)),r.a.createElement("p",null))}))))))}}]),a}(n.Component),va=Object(i.b)((function(e){return{story:e.story,user:e.user,snippet:e.snippet,snippetEdit:e.snippetEdit,child:e.snippetChild}}))(Object(At.a)(Ft)(ga)),ba=(a(130),function(e){Object(ft.a)(a,e);var t=Object(gt.a)(a);function a(){return Object(Et.a)(this,a),t.apply(this,arguments)}return Object(yt.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_USER"})}},{key:"render",value:function(){return r.a.createElement(vt.a,null,r.a.createElement("div",null,r.a.createElement(xt,null),r.a.createElement(bt.d,null,r.a.createElement(bt.a,{exact:!0,from:"/",to:"/home"}),r.a.createElement(bt.b,{exact:!0,path:"/about",component:Dt}),r.a.createElement(kt,{exact:!0,path:"/home",component:qt}),r.a.createElement(kt,{exact:!0,path:"/admin/create_story",component:la}),r.a.createElement(kt,{exact:!0,path:"/info",component:zt}),r.a.createElement(kt,{exact:!0,path:"/admin/user",component:Qt}),r.a.createElement(kt,{exact:!0,path:"/admin/comments",component:da}),r.a.createElement(kt,{exact:!0,path:"/story/edit/:id",component:ha}),r.a.createElement(kt,{exact:!0,path:"/story/:id",component:Vt}),r.a.createElement(kt,{path:"/snippet/:id",component:ca}),r.a.createElement(kt,{exact:!0,path:"/snippet_edit/:id",component:va}),r.a.createElement(bt.b,{render:function(){return r.a.createElement("h1",null,"404")}})),r.a.createElement(_t,null)))}}]),a}(n.Component)),xa=Object(i.b)()(ba),_a=Object(l.a)(),Oa=[_a],Ta=Object(s.e)(O,s.a.apply(void 0,Oa));_a.run(ht),c.a.render(r.a.createElement(i.a,{store:Ta},r.a.createElement(xa,null)),document.getElementById("react-root"))},97:function(e,t,a){e.exports=a(131)}},[[97,1,2]]]);
//# sourceMappingURL=main.08d4a6b4.chunk.js.map